add_library(stdshader_dx9 SHARED
    ${SE_SRC_PATH}/materialsystem/stdshaders/aftershock.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/aftershock.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/aftershock_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/AccumBuff4Sample.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/accumbuff5sample.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/BaseVSShader.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/bik_dx90.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/Bloom.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/BlurFilterX.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/BlurFilterY.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/BufferClearObeyStencil_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/cable_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/cloak.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/cloak_blended_pass_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/cloak_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/cloud_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/colorcorrection.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/compositor.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/core_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/color_projection.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/debugmrttexture.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/DebugTextureView.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/DecalBaseTimesLightmapAlphaBlendSelfIllum_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/DecalModulate_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/depthwrite.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/Downsample.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/downsample_nohdr.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/Engine_Post_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/emissive_scroll_blended_pass_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/eye_refract.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/eye_refract_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/eyes_dx8_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/eyes_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/eyeglint_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/filmdust_dx8_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/filmgrain_dx8_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/flesh_interior_blended_pass_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/floatcombine.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/floatcombine_autoexpose.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/floattoscreen.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/floattoscreen_vanilla.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/HDRCombineTo16Bit.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/HDRSelectRange.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/hsl_filmgrain_pass1.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/hsl_filmgrain_pass2.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/hsv.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/introscreenspaceeffect.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/lightmappedgeneric_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/lightmappedgeneric_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/lightmappedreflective.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/modulate_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/MonitorScreen_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/motion_blur_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/occlusion_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/particlelitgeneric_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/particlelitgeneric_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/particlesphere_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/portal.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/portalstaticoverlay.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/portal_refract.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/portal_refract_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/pyro_vision.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/refract.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/refract_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sample4x4.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sample4x4_blend.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/screenspace_general.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sfm_blurfilterx.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sfm_blurfiltery.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sfm_downsample.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sfm_integercombine.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/shadow.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/shadowbuild_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/shadowmodel_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/shatteredglass.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/showz.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/skin_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sky_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sky_hdr_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/sprite_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/spritecard.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/teeth.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/TreeLeaf.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/unlitgeneric_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/unlittwotexture_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/vertexlitgeneric_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/vertexlitgeneric_dx9_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/volume_clouds.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/volume_clouds_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/vortwarp_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/vr_distort_hud.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/vr_distort_texture.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/warp.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/water.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/weapon_sheen_pass_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/windowimposter_dx90.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/wireframe_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/worldtwotextureblend.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/worldvertexalpha.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/worldvertextransition.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/worldvertextransition_dx8_helper.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/writez_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/writestencil_dx9.cpp
    ${SE_SRC_PATH}/materialsystem/stdshaders/eyeball.cpp
    )
        
if(SE_WIN32)
    target_sources(stdshader_dx9 PRIVATE
        ${SE_SRC_PATH}/materialsystem/stdshaders/debugdepth.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/DebugDrawEnvmapMask.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/debugluxel.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/debugnormalmap.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/debugtangentspace.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/debugmorphaccumulator_dx9.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/morphaccumulate_dx9.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/morphweight_dx9.cpp
        ${SE_SRC_PATH}/materialsystem/stdshaders/fillrate.cpp
        )
endif()

target_include_directories(stdshader_dx9 PUBLIC
        ${SE_SRC_PATH}/materialsystem/stdshaders
        ${SE_SRC_PATH}/public
        ${SE_SRC_PATH}/public/tier0
        ${SE_SRC_PATH}/public/tier1
        ${SE_SRC_PATH}/materialsystem/stdshaders/fxctmp9
        ${SE_SRC_PATH}/materialsystem/stdshaders/vshtmp9
        )
target_compile_definitions(stdshader_dx9 PRIVATE -DSTDSHADER_DX9_DLL_EXPORT -DFAST_MATERIALVAR_ACCESS)
target_link_libraries(stdshader_dx9 PRIVATE platform_config video_config tier0 shaderlib tier1 mathlib)
target_link_libraries(stdshader_dx9 PRIVATE togl)
install(TARGETS stdshader_dx9 DESTINATION "./bin")